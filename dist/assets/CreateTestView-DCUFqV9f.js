import{a as w}from"./axios-CCb-kr4I.js";import{j as C}from"./index-VWaDGczM.js";import{_ as Q,c as r,a as e,t as V,d as x,f as N,b as n,w as a,v as m,F as g,r as k,o as u,n as v}from"./index-zcvETH6O.js";const P={data(){return{TName:null,TP:0,stid:`${Math.floor(Math.random()*99999999)+1}`,questions:[{name:"Do you like SimpleClass? ^^",Points:0,answers:[{name:"No (i am very angry)",TF:!1},{name:"Yes (i am very fun)",TF:!0}]}],selectedQ:null,usdata:null}},mounted(){const l=localStorage.getItem("SC-token");if(l)try{const t=C(l);this.usdata=t,console.log("Decodet data at mounted: ",t)}catch(t){console.error("Error decoded data at mounted: ",t)}},methods:{handleClickOutside(l){this.$refs.form.contains(l.target)||(this.selectedQ=null)},async publishTest(){this.updateTotalPoints();try{const l=await w.post("/user/create/test",{TName:this.TName,stid:this.stid,questions:this.questions,uid:this.usdata.user_id,TP:this.TP});console.log("Cretae test succefuly: ",l)}catch(l){console.error("Error at creating test: ",l)}},addQuestion(){this.questions.push({name:"",Points:1,answers:[{name:"Нове питання",TF:!1}]}),this.updateTotalPoints()},addV(){this.questions[this.selectedQ].answers.push({name:"New answer",TF:!1})},SelectQ(l){this.selectedQ=l},delQ(){this.questions.splice(this.selectedQ,1),this.selectedQ=null,this.updateTotalPoints()},printStr(l){console.log(l)},SelectV(l){const t=this.questions[this.selectedQ];t&&(t.answers.forEach((p,b)=>{p.TF=b===l}),console.log(this.questions))},updateTotalPoints(){this.TP=this.questions.reduce((l,t)=>l+(Number(t.Points)||0),0)}},watch:{questions:{handler(){this.updateTotalPoints()},deep:!0}}},q={id:"dh1"},D={id:"dhc1"},S={key:0,id:"dhc1",style:{"margin-left":"10px"}},F={class:"ee1",style:{"background-color":"rgba(15, 6, 73, 0.567)","font-size":"13px"}},U={for:""},h={id:"dh2"},I={id:"form",ref:"form",class:"slide-in"},E={style:{"margin-right":"20px"}},M={id:"f-dh1"},B={id:"f-dh1"},O={id:"f-dh1"},j=["onClick"],z=["onUpdate:modelValue"],L=["onUpdate:modelValue"],Y=["onClick"],A=["onUpdate:modelValue"];function G(l,t,p,b,i,o){return u(),r("main",{onClick:t[7]||(t[7]=(...s)=>o.handleClickOutside&&o.handleClickOutside(...s))},[e("div",q,[t[8]||(t[8]=e("div",{id:"dhc1",style:{"margin-right":"10px"}},[e("button",{style:{"background-color":"rgba(15, 6, 73, 0.567)"}},[e("a",{href:"/reg/account",style:{color:"white"}},"Назад")])],-1)),e("div",D,[e("button",{onClick:t[0]||(t[0]=(...s)=>o.addQuestion&&o.addQuestion(...s)),style:{"background-color":"rgba(15, 6, 73, 0.567)"}}," Нове питання "),e("button",{onClick:t[1]||(t[1]=(...s)=>o.addV&&o.addV(...s)),style:{"margin-left":"10px","background-color":"rgba(6, 73, 33, 0.567)"}}," Нова відповідь "),e("button",{onClick:t[2]||(t[2]=(...s)=>o.delQ&&o.delQ(...s)),style:{"margin-left":"10px","background-color":"rgba(255, 0, 33, 0.467)"}}," Видалити питання "),e("button",{onClick:t[3]||(t[3]=s=>o.publishTest()),style:{"margin-left":"10px","background-color":"rgba(106, 73, 33, 0.567)"}}," Публікація тесту ")]),i.selectedQ!=null?(u(),r("div",S,[e("div",F,[e("label",U,"Вибрано питання: "+V(i.questions[i.selectedQ].name),1)])])):x("",!0)]),e("div",h,[e("div",I,[e("div",{id:"dd1",onClick:t[6]||(t[6]=N(()=>{},["stop"]))},[e("div",E,[e("div",M,[t[9]||(t[9]=e("label",{for:"TestName",style:{color:"white"}},"Ім'я тесту",-1)),t[10]||(t[10]=n()),t[11]||(t[11]=e("br",null,null,-1)),a(e("input",{type:"text",name:"TestName",id:"TN",placeholder:"Введіть ім'я тесту","onUpdate:modelValue":t[4]||(t[4]=s=>i.TName=s)},null,512),[[m,i.TName]])]),e("div",B,[t[12]||(t[12]=e("label",{for:"TestID",style:{color:"white"}},"Ідентифікатор тесту",-1)),t[13]||(t[13]=n()),t[14]||(t[14]=e("br",null,null,-1)),a(e("input",{type:"text",name:"TestID",id:"TID",placeholder:"Ідентифікатор тесту","onUpdate:modelValue":t[5]||(t[5]=s=>i.stid=s),disabled:""},null,512),[[m,i.stid]])])]),e("div",O,[t[33]||(t[33]=e("label",{for:"TestID",style:{color:"white"}},"Питання",-1)),t[34]||(t[34]=n()),t[35]||(t[35]=e("br",null,null,-1)),t[36]||(t[36]=n()),t[37]||(t[37]=e("br",null,null,-1)),e("div",null,[(u(!0),r(g,null,k(i.questions,(s,f)=>(u(),r("li",{key:f,onClick:d=>o.SelectQ(f),class:"fdh"},[e("div",{id:"f-dh1-1",class:v({selected:i.selectedQ===f})},[t[17]||(t[17]=e("label",{for:"",style:{color:"white"}},"Ім'я питання",-1)),t[18]||(t[18]=n()),t[19]||(t[19]=e("br",null,null,-1)),a(e("input",{type:"text","onUpdate:modelValue":d=>s.name=d},null,8,z),[[m,s.name]]),t[20]||(t[20]=n()),t[21]||(t[21]=e("br",null,null,-1)),t[22]||(t[22]=n()),t[23]||(t[23]=e("br",null,null,-1)),t[24]||(t[24]=e("label",{for:"",style:{color:"white"}},"Бали за правильну відповідь",-1)),t[25]||(t[25]=n()),t[26]||(t[26]=e("br",null,null,-1)),a(e("input",{type:"text","onUpdate:modelValue":d=>s.Points=d},null,8,L),[[m,s.Points]]),t[27]||(t[27]=n()),t[28]||(t[28]=e("br",null,null,-1)),t[29]||(t[29]=n()),t[30]||(t[30]=e("br",null,null,-1)),t[31]||(t[31]=e("label",{for:"",style:{color:"white"}},"Відповіді на питання",-1)),t[32]||(t[32]=e("br",null,null,-1)),(u(!0),r(g,null,k(s.answers,(d,y)=>(u(),r("li",{key:y},[e("div",{id:"f-dh1-2",class:v({selected2:d.TF}),onClick:T=>o.SelectV(y)},[t[15]||(t[15]=e("label",{for:"",style:{color:"white"}},"Текст відповіді",-1)),t[16]||(t[16]=e("br",null,null,-1)),a(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":T=>d.name=T},null,8,A),[[m,d.name]])],10,Y)]))),128))],2)],8,j))),128))])])])],512)])])}const R=Q(P,[["render",G],["__scopeId","data-v-aa253d6f"]]);export{R as default};
