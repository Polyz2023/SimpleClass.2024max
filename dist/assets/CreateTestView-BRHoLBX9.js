import{a as w}from"./axios-CCb-kr4I.js";import{j as C}from"./index-VWaDGczM.js";import{_ as Q,c as r,a as e,f as V,b as n,w as u,v as a,F as k,r as g,o as m,n as v}from"./index-CxeWZLd2.js";const P={data(){return{TName:null,TP:0,stid:`${Math.floor(Math.random()*99999999)+1}`,questions:[{name:"Do you like SimpleClass? ^^",Points:0,answers:[{name:"No (i am very angry)",TF:!1},{name:"Yes (i am very fun)",TF:!0}]}],selectedQ:null,usdata:null}},mounted(){const s=localStorage.getItem("SC-token");if(s)try{const t=C(s);this.usdata=t,console.log("Decodet data at mounted: ",t)}catch(t){console.error("Error decoded data at mounted: ",t)}},methods:{handleClickOutside(s){this.$refs.form.contains(s.target)||(this.selectedQ=null)},async publishTest(){this.updateTotalPoints();try{const s=await w.post("/user/create/test",{TName:this.TName,stid:this.stid,questions:this.questions,uid:this.usdata.user_id,TP:this.TP});console.log("Cretae test succefuly: ",s)}catch(s){console.error("Error at creating test: ",s)}},addQuestion(){this.questions.push({name:"",Points:1,answers:[{name:"Нове питання",TF:!1}]}),this.updateTotalPoints()},addV(){this.questions[this.selectedQ].answers.push({name:"New answer",TF:!1})},SelectQ(s){this.selectedQ=s},delQ(){this.questions.splice(this.selectedQ,1),this.selectedQ=null,this.updateTotalPoints()},printStr(s){console.log(s)},SelectV(s){const t=this.questions[this.selectedQ];t&&(t.answers.forEach((p,b)=>{p.TF=b===s}),console.log(this.questions))},updateTotalPoints(){this.TP=this.questions.reduce((s,t)=>s+(Number(t.Points)||0),0)}},watch:{questions:{handler(){this.updateTotalPoints()},deep:!0}}},N={id:"dh1"},x={id:"dhc1"},q={id:"dh2"},D={id:"form",ref:"form",class:"slide-in"},F={style:{"margin-right":"20px"}},S={id:"f-dh1"},U={id:"f-dh1"},I={id:"f-dh1"},E=["onClick"],M=["onUpdate:modelValue"],B=["onUpdate:modelValue"],O=["onClick"],j=["onUpdate:modelValue"];function z(s,t,p,b,d,o){return m(),r("main",{onClick:t[7]||(t[7]=(...l)=>o.handleClickOutside&&o.handleClickOutside(...l))},[e("div",N,[e("div",x,[e("button",{onClick:t[0]||(t[0]=(...l)=>o.addQuestion&&o.addQuestion(...l)),style:{"background-color":"rgba(15, 6, 73, 0.567)"}}," Нове питання "),e("button",{onClick:t[1]||(t[1]=(...l)=>o.addV&&o.addV(...l)),style:{"margin-left":"10px","background-color":"rgba(6, 73, 33, 0.567)"}}," Нова відповідь "),e("button",{onClick:t[2]||(t[2]=(...l)=>o.delQ&&o.delQ(...l)),style:{"margin-left":"10px","background-color":"rgba(255, 0, 33, 0.467)"}}," Видалити питання "),e("button",{onClick:t[3]||(t[3]=l=>o.publishTest()),style:{"margin-left":"10px","background-color":"rgba(106, 73, 33, 0.567)"}}," Публікація тесту ")])]),e("div",q,[e("div",D,[e("div",{id:"dd1",onClick:t[6]||(t[6]=V(()=>{},["stop"]))},[e("div",F,[e("div",S,[t[8]||(t[8]=e("label",{for:"TestName",style:{color:"white"}},"Ім'я тесту",-1)),t[9]||(t[9]=n()),t[10]||(t[10]=e("br",null,null,-1)),u(e("input",{type:"text",name:"TestName",id:"TN",placeholder:"Введіть ім'я тесту","onUpdate:modelValue":t[4]||(t[4]=l=>d.TName=l)},null,512),[[a,d.TName]])]),e("div",U,[t[11]||(t[11]=e("label",{for:"TestID",style:{color:"white"}},"Ідентифікатор тесту",-1)),t[12]||(t[12]=n()),t[13]||(t[13]=e("br",null,null,-1)),u(e("input",{type:"text",name:"TestID",id:"TID",placeholder:"Ідентифікатор тесту","onUpdate:modelValue":t[5]||(t[5]=l=>d.stid=l),disabled:""},null,512),[[a,d.stid]])])]),e("div",I,[t[32]||(t[32]=e("label",{for:"TestID",style:{color:"white"}},"Питання",-1)),t[33]||(t[33]=n()),t[34]||(t[34]=e("br",null,null,-1)),t[35]||(t[35]=n()),t[36]||(t[36]=e("br",null,null,-1)),e("div",null,[(m(!0),r(k,null,g(d.questions,(l,f)=>(m(),r("li",{key:f,onClick:i=>o.SelectQ(f),class:"fdh"},[e("div",{id:"f-dh1-1",class:v({selected:d.selectedQ===f})},[t[16]||(t[16]=e("label",{for:"",style:{color:"white"}},"Ім'я питання",-1)),t[17]||(t[17]=n()),t[18]||(t[18]=e("br",null,null,-1)),u(e("input",{type:"text","onUpdate:modelValue":i=>l.name=i},null,8,M),[[a,l.name]]),t[19]||(t[19]=n()),t[20]||(t[20]=e("br",null,null,-1)),t[21]||(t[21]=n()),t[22]||(t[22]=e("br",null,null,-1)),t[23]||(t[23]=e("label",{for:"",style:{color:"white"}},"Бали за правильну відповідь",-1)),t[24]||(t[24]=n()),t[25]||(t[25]=e("br",null,null,-1)),u(e("input",{type:"text","onUpdate:modelValue":i=>l.Points=i},null,8,B),[[a,l.Points]]),t[26]||(t[26]=n()),t[27]||(t[27]=e("br",null,null,-1)),t[28]||(t[28]=n()),t[29]||(t[29]=e("br",null,null,-1)),t[30]||(t[30]=e("label",{for:"",style:{color:"white"}},"Відповіді на питання",-1)),t[31]||(t[31]=e("br",null,null,-1)),(m(!0),r(k,null,g(l.answers,(i,T)=>(m(),r("li",{key:T},[e("div",{id:"f-dh1-2",class:v({selected2:i.TF}),onClick:y=>o.SelectV(T)},[t[14]||(t[14]=e("label",{for:"",style:{color:"white"}},"Текст відповіді",-1)),t[15]||(t[15]=e("br",null,null,-1)),u(e("input",{type:"text",name:"",id:"","onUpdate:modelValue":y=>i.name=y},null,8,j),[[a,i.name]])],10,O)]))),128))],2)],8,E))),128))])])])],512)])])}const A=Q(P,[["render",z],["__scopeId","data-v-c357df97"]]);export{A as default};
